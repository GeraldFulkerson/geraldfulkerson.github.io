<!DOCTYPE html>
<html>
<head>
	<meta charset="utf8">
	<title>Sheridan Campus Room Locator</title>
	<style type="text/css">
		#map-container, #search-container { text-align: center; position: relative; }
		#map { height: 100%; }
		#pin-container { position: absolute; display: none; }
		#caption { background: yellow; padding: 10px; color: #000; border-radius: 4px; position: absolute; }
	</style>
	<script type="text/javascript">
		//var rooms = ['Computer Science', 'Gym', 'Library', 'Whitney Atrium', 'Choir Room'] // list of rooms that can be located
		
		var rooms = {
		name: 'Computer Science',
		left:363, //original position (363, 557)
		top:557,
		};
		
		
		// locate room
		function lookup(room) {
			// the following gets the top left corner location of the object specified.
			var position = $('#map').offset(); // example: position = { left: 20, top: 45 }
			console.log(position);
			var css = 'left: ' + (parseInt(position.left) + 182) + 'px; ' + 'top: ' + (parseInt(position.top) + 240) + 'px;'
			
			//var css = 'left ' + (rooms.left) + 'px; ' + 'top: ' + (rooms.top) + 'px;'
			
			$('#pin-container').attr('style', css);
			$('#caption').html(rooms.name);
			$('#pin-container').show();
			return false;
			
			}
		
		
		
		function adjustMap() {
			// get height of window in pixel so we can adjust the container
			// and leave some space at the bottom of the page for the form.
			var windowHeight = $(window).height() - 100;
			$('#map-container').height(windowHeight);
			$('#pin-container').hide();
		}
	</script>
</head>
<body>
	<div id="map-container">
		<div id="pin-container" >
			<img id="pin" src="pin.png" />
			<div id="caption"></div>
		</div>
		<img id="map" src="map.jpg" />
	</div>
	<div id="search-container">
		<form action="#">
			<label>Enter room name:</label>
			<input type="text" name="room" id="room">
			<button onclick="lookup($('#room').val());">Locate</button>
		</form>
	</div>

	<script src="https://code.jquery.com/jquery-3.1.1.slim.js"></script>

	<script>	
		// run when page first loads
	  	$(document).ready( function(){
	  		//Run function when browser  resize
		  	$(window).resize( adjustMap );
	  		adjustMap();
	  	});
	</script>	
</body>
</html>
